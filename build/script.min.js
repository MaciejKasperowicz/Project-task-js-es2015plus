!function(){"use strict";class e{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".gallery__item",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".js-slider";this.imagesSelector=e,this.sliderRootSelector=t,this.interval=0}run(){this.imagesList=document.querySelectorAll(this.imagesSelector),this.sliderRootElement=document.querySelector(this.sliderRootSelector),this.initEvents(),this.initCustomEvents()}initEvents(){this.imagesList.forEach((e=>{e.addEventListener("click",(e=>{this.fireCustomEvent(e.currentTarget,"js-slider-img-click")}))}));var e=this.findElement(".js-slider__nav--next");e&&e.addEventListener("click",(()=>this.fireCustomEvent(this.sliderRootElement,"js-slider-img-next")));var t=this.findElement(".js-slider__nav--prev");t&&t.addEventListener("click",(()=>this.fireCustomEvent(this.sliderRootElement,"js-slider-img-prev")));var s=this.findElement(".js-slider__zoom");s&&s.addEventListener("click",(e=>{e.target===e.currentTarget&&this.fireCustomEvent(this.sliderRootElement,"js-slider-close")}))}findElement(e){return this.sliderRootElement.querySelector(e)}fireCustomEvent(e,t){console.log(e.className,"=>",t);var s=new CustomEvent(t,{bubbles:!0});e.dispatchEvent(s)}initCustomEvents(){this.imagesList.forEach((e=>{e.addEventListener("js-slider-img-click",(e=>{this.onImageClick(e)}))})),this.sliderRootElement.addEventListener("js-slider-img-next",this.onImageNext),this.sliderRootElement.addEventListener("js-slider-img-prev",this.onImagePrev),this.sliderRootElement.addEventListener("js-slider-close",this.onClose)}onImageClick(e){this.sliderRootElement.classList.add("js-slider--active");var t=e.currentTarget.querySelector("img").src;this.sliderRootElement.querySelector(".js-slider__image").src=t;var s=e.currentTarget.dataset.sliderGroupName,i=document.querySelectorAll("".concat(this.imagesSelector,"[data-slider-group-name=").concat(s,"]")),r=document.querySelector(".js-slider__thumbs-item--prototype");i.forEach((e=>{var s=r.cloneNode(!0);s.classList.remove("js-slider__thumbs-item--prototype");var i=s.querySelector("img");i.src=e.querySelector("img").src,i.src===t&&i.classList.add("js-slider__thumbs-image--current"),document.querySelector(".js-slider__thumbs").appendChild(s)}))}onImageNext(){console.log(this,"onImageNext");var e="js-slider__thumbs-image--current",t=this.querySelector(".".concat(e)),s=t.parentElement.nextElementSibling;if(s&&!s.className.includes("js-slider__thumbs-item--prototype")){var i=s.querySelector("img");i.classList.add(e),this.querySelector(".js-slider__image").src=i.src,t.classList.remove(e)}}onImagePrev(){console.log(this,"onImagePrev");var e="js-slider__thumbs-image--current",t=this.querySelector(".".concat(e)),s=t.parentElement.previousElementSibling;if(s&&!s.className.includes("js-slider__thumbs-item--prototype")){var i=s.querySelector("img");i.classList.add(e),this.querySelector(".js-slider__image").src=i.src,t.classList.remove(e)}}onClose(e){e.currentTarget.classList.remove("js-slider--active"),this.querySelectorAll(".js-slider__thumbs-item:not(.js-slider__thumbs-item--prototype)").forEach((e=>e.parentElement.removeChild(e)))}onStart(){this.interval=setInterval((()=>{this.fireCustomEvent(this.sliderRootElement,"js-slider-img-next")}),1500)}}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".gallery__item").forEach((e=>{e.dataset.sliderGroupName=Math.random()>.5?"nice":"good"})),new e(".gallery__item").run()}))}();